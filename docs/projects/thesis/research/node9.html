<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--Converted with LaTeX2HTML 2K.1beta (1.61)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content=
"HTML Tidy for Windows (vers 12 April 2005), see www.w3.org" />
<title>Finding the Delay</title>
<meta name="description" content="Finding the Delay" />
<meta name="keywords" content="research" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta http-equiv="Content-Type" content=
"text/html; charset=us-ascii" />
<meta name="Generator" content="LaTeX2HTML v2K.1beta" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rel="STYLESHEET" href="research.css" type="text/css" />
<link rel="next" href="node10.html" />
<link rel="previous" href="node8.html" />
<link rel="up" href="node6.html" />
<link rel="next" href="node10.html" />
<style type="text/css">
/*<![CDATA[*/
 div.c2 {text-align: right}
 div.c1 {text-align: center}
/*]]>*/
</style>
</head>
<body>
<!--Navigation Panel-->
<a name="tex2html149" href="node10.html" id=
"tex2html149"><img width="37" height="24" align="bottom" border="0"
alt="next" src="next.gif" /></a> <a name="tex2html145" href=
"node6.html" id="tex2html145"><img width="26" height="24" align=
"bottom" border="0" alt="up" src="up.gif" /></a> <a name=
"tex2html139" href="node8.html" id="tex2html139"><img width="63"
height="24" align="bottom" border="0" alt="previous" src=
"prev.gif" /></a> <a name="tex2html147" href="node1.html" id=
"tex2html147"><img width="65" height="24" align="bottom" border="0"
alt="contents" src="contents.gif" /></a><br />
<b>Next:</b> <a name="tex2html150" href="node10.html" id=
"tex2html150">Fractional Delay</a> <b>Up:</b> <a name="tex2html146"
href="node6.html" id="tex2html146">Delay-and-Sum Beamforming</a>
<b>Previous:</b> <a name="tex2html140" href="node8.html" id=
"tex2html140">Performance</a> &nbsp; <b><a name="tex2html148" href=
"node1.html" id="tex2html148">Contents</a></b><br />
<br />
<!--End of Navigation Panel-->
<h2><a name="SECTION00043000000000000000" id=
"SECTION00043000000000000000">Finding the Delay</a></h2>
One method of estimating the signal delay between microphones is to
measure the cross power spectrum between successive microphones.
The measurement is done in the frequency domain because the delays
will be less than a sample apart, requiring us to look at the phase
information. A simplification of [<a href="node14.html#Ku">Ku</a>]
is presented which assumes no noise or reverberation. Let the
signal, S, pass S1 before S2 with G1 and G2 being the path loss and
<img width="17" height="14" align="bottom" border="0" src=
"img36.gif" alt="$\Delta$" /> being the time delay from S1 to
S2,<br />
<div class="c1"><!-- MATH
 \begin{eqnarray}
S_1(\omega) & = & G1\cdot S(\omega)\nonumber\\
S_2(\omega) & = & G2\cdot S1(\omega)\cdot e^{-j\omega\Delta}\nonumber\\
\end{eqnarray}
 -->
<table align="center" cellpadding="0" width="100%">
<tr valign="middle">
<td nowrap="nowrap" align="right"><img width="44" height="31"
align="middle" border="0" src="img37.gif" alt=
"$\displaystyle S_1(\omega)$" /></td>
<td align="center" nowrap="nowrap"><img width="16" height="28"
align="middle" border="0" src="img3.gif" alt=
"$\textstyle =$" /></td>
<td align="left" nowrap="nowrap"><img width="70" height="31" align=
"middle" border="0" src="img38.gif" alt=
"$\displaystyle G1\cdot S(\omega)$" /></td>
<td width="10" align="right">&nbsp;</td>
</tr>
<tr valign="middle">
<td nowrap="nowrap" align="right"><img width="44" height="31"
align="middle" border="0" src="img39.gif" alt=
"$\displaystyle S_2(\omega)$" /></td>
<td align="center" nowrap="nowrap"><img width="16" height="28"
align="middle" border="0" src="img3.gif" alt=
"$\textstyle =$" /></td>
<td align="left" nowrap="nowrap"><img width="132" height="36"
align="middle" border="0" src="img40.gif" alt=
"$\displaystyle G2\cdot S1(\omega)\cdot e^{-j\omega\Delta}$" /></td>
<td width="10" align="right">&nbsp;</td>
</tr>
</table>
</div>
<br clear="all" />
Take the cross power spectrum to be<br />
<div class="c2"><!-- MATH
 \begin{equation}
X_{S_1,S_2} & = & S_1(\omega){\cdot}S_2^*(\omega) & = & 
G1\cdot G2\cdot\|S(\omega)\|^2\cdot e^{j\omega\cdot\Delta}\\
\end{equation}
 -->
<table width="100%" align="center">
<tr valign="middle">
<td align="center" nowrap="nowrap"><img width="341" height="29"
border="0" src="img41.gif" alt=
"\begin{displaymath} X_{S_1,S_2} &amp; = &amp; S_1(\omega){\cdot}S_2^*(\omega) &amp; = &amp; G1\... ...\Vert S(\omega)\Vert^2\cdot e^{j\omega\cdot\Delta}\nonumber\ \end{displaymath}" /></td>
<td width="10" align="right">&nbsp;</td>
</tr>
</table>
<br clear="all" /></div>
Now it's clear that the slope of the angle is the time delay
information needed. So to estimate the delay, we need to take the
discrete fourier transform, find the cross power spectrum angle,
and estimate the slope. And hopefully the noise and reverberation
will not significantly disturb our estimation.
<hr />
<!--Navigation Panel-->
<a name="tex2html149" href="node10.html" id=
"tex2html149"><img width="37" height="24" align="bottom" border="0"
alt="next" src="next.gif" /></a> <a name="tex2html145" href=
"node6.html" id="tex2html145"><img width="26" height="24" align=
"bottom" border="0" alt="up" src="up.gif" /></a> <a name=
"tex2html139" href="node8.html" id="tex2html139"><img width="63"
height="24" align="bottom" border="0" alt="previous" src=
"prev.gif" /></a> <a name="tex2html147" href="node1.html" id=
"tex2html147"><img width="65" height="24" align="bottom" border="0"
alt="contents" src="contents.gif" /></a><br />
<b>Next:</b> <a name="tex2html150" href="node10.html" id=
"tex2html150">Fractional Delay</a> <b>Up:</b> <a name="tex2html146"
href="node6.html" id="tex2html146">Delay-and-Sum Beamforming</a>
<b>Previous:</b> <a name="tex2html140" href="node8.html" id=
"tex2html140">Performance</a> &nbsp; <b><a name="tex2html148" href=
"node1.html" id="tex2html148">Contents</a></b> 
<!--End of Navigation Panel-->
<address>Todd A Goldfinger 2004-11-22</address>
</body>
</html>
